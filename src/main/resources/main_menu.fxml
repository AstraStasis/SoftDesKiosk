<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>

<AnchorPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.softdeskiosk.KioskController"
            stylesheets="@styles.css">

    <HBox spacing="60" alignment="TOP_LEFT"
          AnchorPane.topAnchor="80" AnchorPane.leftAnchor="50"
          AnchorPane.rightAnchor="50" AnchorPane.bottomAnchor="50">

        <!-- LEFT: 2×2 Card Grid -->
        <GridPane hgap="40" vgap="40">
            <padding><Insets top="20"/></padding>

            <!-- Books -->
            <Button fx:id="booksButton" onAction="#goToBooks" styleClass="card-button"
                    GridPane.rowIndex="0" GridPane.columnIndex="0">
                <graphic>
                    <VBox alignment="CENTER" spacing="10">
                        <ImageView fitWidth="200" fitHeight="200">
                            <image><Image url="@books_button.png"/></image>
                        </ImageView>
                        <Text text="Books" styleClass="card-text"/>
                    </VBox>
                </graphic>
            </Button>

            <!-- Uniforms -->
            <Button fx:id="uniformsButton" onAction="#goToUniforms" styleClass="card-button"
                    GridPane.rowIndex="0" GridPane.columnIndex="1">
                <graphic>
                    <VBox alignment="CENTER" spacing="10">
                        <ImageView fitWidth="200" fitHeight="200">
                            <image><Image url="@uniforms_button.png"/></image>
                        </ImageView>
                        <Text text="Uniforms" styleClass="card-text"/>
                    </VBox>
                </graphic>
            </Button>

            <!-- Registration Form -->
            <Button fx:id="regiButton" onAction="#goToRegiform" styleClass="card-button"
                    GridPane.rowIndex="1" GridPane.columnIndex="0">
                <graphic>
                    <VBox alignment="CENTER" spacing="10">
                        <ImageView fitWidth="200" fitHeight="200">
                            <image><Image url="@reg_form.png"/></image>
                        </ImageView>
                        <Text text="Registration Form" styleClass="card-text"/>
                    </VBox>
                </graphic>
            </Button>

            <!-- Grade Slip -->
            <Button fx:id="gradeButton" onAction="#goToGrade" styleClass="card-button"
                    GridPane.rowIndex="1" GridPane.columnIndex="1">
                <graphic>
                    <VBox alignment="CENTER" spacing="10">
                        <ImageView fitWidth="200" fitHeight="200">
                            <image><Image url="@grade_slip.png"/></image>
                        </ImageView>
                        <Text text="Grade Slip" styleClass="card-text"/>
                    </VBox>
                </graphic>
            </Button>
        </GridPane>


        <!-- RIGHT: Entry, Info Card, Checkout Button & hidden Checkout Pane -->
        <StackPane HBox.hgrow="ALWAYS" prefHeight="800">

            <!-- 1) Your mock-up panel -->
            <VBox fx:id="rightPane" spacing="20">
                <!-- Student No. Entry -->
                <HBox alignment="CENTER_RIGHT" spacing="10">
                    <Label text="Enter Student No." style="-fx-font-size:18px; -fx-font-weight:bold;"/>
                    <TextField fx:id="yearField" promptText="2023"
                               prefWidth="80" styleClass="round-textfield"/>
                    <Label text="–" style="-fx-font-size:18px;"/>
                    <TextField fx:id="idField" promptText="102379"
                               prefWidth="120" styleClass="round-textfield"/>
                    <Button text="Go" onAction="#loadStudentInfo" styleClass="button"/>
                </HBox>

                <!-- Student Info Card -->
                <VBox fx:id="studentInfoPane" spacing="15">
                    <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                    <style>
                        -fx-background-color: #c9b63c;
                        -fx-background-radius: 20;
                    </style>
                    <children>
                        <Label fx:id="nameLabel"      text="Student Name: Gean Andrei Alsonado" style="-fx-font-size:16px;"/>
                        <Label fx:id="genderLabel"    text="Gender: Male"                         style="-fx-font-size:16px;"/>
                        <Label fx:id="yearLevelLabel" text="Year Level: 2nd Year"                 style="-fx-font-size:16px;"/>
                        <Label fx:id="latestEnrollmentLabel"
                               text="Latest Enrollment: 2nd Semester"      style="-fx-font-size:16px;"/>
                        <Label fx:id="programLabel"   text="Program: BS Computer Engineering"     style="-fx-font-size:16px;"/>
                    </children>
                </VBox>

                <!-- Checkout Button -->
                <Button text="Checkout Order" onAction="#goToCheckout"
                        styleClass="card-button"
                        prefHeight="60" maxWidth="Infinity"
                        style="-fx-font-size:20px; -fx-font-weight:bold;"/>
            </VBox>

            <!-- 2) Hidden checkout pane (used by controller) -->
            <VBox fx:id="checkoutPane"
                  visible="false" managed="false"
                  spacing="20" alignment="TOP_CENTER">
                <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                <style>
                    -fx-background-color:#fff8dc;
                    -fx-background-radius:20;
                </style>
                <children>
                    <Label text="Your Order Slip" style="-fx-font-size:20px; -fx-font-weight:bold;"/>
                    <TableView fx:id="cartTable" prefHeight="400" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="itemColumn"     text="Item"     prefWidth="200"/>
                            <TableColumn fx:id="quantityColumn" text="Quantity" prefWidth="120"/>
                            <TableColumn fx:id="priceColumn"    text="Price"    prefWidth="120"/>
                            <TableColumn fx:id="editColumn"     text="Edit"     prefWidth="120"/>
                        </columns>
                    </TableView>
                    <HBox spacing="10" alignment="CENTER">
                        <Button text="Back"
                                onAction="#showStudentInfoPane"
                                styleClass="button"/>
                        <Button text="Proceed to Online Payment"
                                onAction="#proceedToOnlinePayment"
                                styleClass="button"/>
                        <Button text="Pay at the Counter"
                                onAction="#payAtCounter"
                                styleClass="button"/>


                    </HBox>

                </children>
            </VBox>

        </StackPane>
    </HBox>
</AnchorPane>
